<script>
	import CodePreview from '$lib/components/CodePreview.svelte';
	import FeatureCard from '$lib/components/FeatureCard.svelte';

	const features = [
		{ icon: 'ğŸ“', title: 'ãƒ•ã‚¡ã‚¤ãƒ«ãƒ™ãƒ¼ã‚¹ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°', description: 'ãƒ•ã‚©ãƒ«ãƒ€æ§‹é€ ãŒãã®ã¾ã¾URLã«', tag: 'ç‰¹å¾´' },
		{ icon: 'âš¡', title: 'SSR/SSG', description: 'ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã¨é™çš„ç”Ÿæˆ', tag: 'é‡è¦' },
		{ icon: 'ğŸ”Œ', title: 'API Routes', description: 'ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰APIã‚’åŒã˜ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§', tag: 'ä¾¿åˆ©' },
		{ icon: 'ğŸ–¼ï¸', title: 'ç”»åƒæœ€é©åŒ–', description: 'next/imageã§è‡ªå‹•æœ€é©åŒ–', tag: 'ä¾¿åˆ©' },
		{ icon: 'ğŸš€', title: 'è‡ªå‹•ã‚³ãƒ¼ãƒ‰åˆ†å‰²', description: 'å¿…è¦ãªã‚³ãƒ¼ãƒ‰ã ã‘èª­ã¿è¾¼ã¿', tag: 'æ€§èƒ½' },
		{ icon: 'ğŸ”„', title: 'Server Components', description: 'ã‚µãƒ¼ãƒãƒ¼ã§å®Ÿè¡Œã•ã‚Œã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ', tag: 'App Router' }
	];
</script>

<svelte:head>
	<title>Next.js ã¯ã˜ã‚ã« | ã•ã¨ã¾ãŸãƒ©ãƒœ</title>
</svelte:head>

<article>
	<h1 class="text-3xl font-bold mb-2">Next.js</h1>
	<p class="text-lg text-gray-600 dark:text-gray-400 mb-8">
		Reactãƒ™ãƒ¼ã‚¹ã®æœ¬æ ¼çš„ãªWebã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯
	</p>

	<!-- Next.jsã¨ã¯ -->
	<section class="mb-10">
		<h2 id="what-is" class="text-xl font-bold mb-4">Next.jsã¨ã¯ï¼Ÿ</h2>

		<div class="p-6 rounded-xl bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 mb-6">
			<p class="text-blue-800 dark:text-blue-200 mb-4">
				<strong>æ—¥å¸¸ã§ã®ä¾‹ãˆï¼š</strong>Reactã®ã€Œãƒ•ãƒ«è£…å‚™ç‰ˆã€
			</p>
			<div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm">
				<div class="p-3 bg-white dark:bg-gray-800 rounded-lg">
					<div class="font-semibold text-blue-700 dark:text-blue-300 mb-2">Reactå˜ä½“ = ã‚¨ãƒ³ã‚¸ãƒ³ã ã‘</div>
					<p class="text-gray-600 dark:text-gray-400">
						UIã‚’ä½œã‚‹åŠ›ã¯ã‚ã‚‹ãŒã€<br>
						ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚„æœ€é©åŒ–ã¯åˆ¥é€”å¿…è¦
					</p>
				</div>
				<div class="p-3 bg-white dark:bg-gray-800 rounded-lg">
					<div class="font-semibold text-blue-700 dark:text-blue-300 mb-2">Next.js = å®Œæˆã—ãŸè»Š</div>
					<p class="text-gray-600 dark:text-gray-400">
						React + ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚° + æœ€é©åŒ– +<br>
						ã‚µãƒ¼ãƒãƒ¼æ©Ÿèƒ½ãŒã‚»ãƒƒãƒˆã«ãªã£ã¦ã„ã‚‹
					</p>
				</div>
			</div>
		</div>

		<div class="p-4 rounded-lg bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 mb-6">
			<p class="font-semibold text-amber-800 dark:text-amber-200">ãªãœNext.jsã‚’ä½¿ã†ï¼ŸReactã ã‘ã˜ã‚ƒãƒ€ãƒ¡ï¼Ÿ</p>
			<div class="text-sm text-amber-700 dark:text-amber-300 mt-2">
				<p class="mb-2"><strong>Reactã ã‘ã§ä½œã‚‹ã¨ï¼š</strong></p>
				<ul class="list-disc list-inside space-y-1 mb-3">
					<li>ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ï¼ˆãƒšãƒ¼ã‚¸é·ç§»ï¼‰ã‚’åˆ¥ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§è¿½åŠ ã™ã‚‹å¿…è¦ãŒã‚ã‚‹</li>
					<li>SEOå¯¾ç­–ãŒé›£ã—ã„ï¼ˆæ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ã«å†…å®¹ãŒè¦‹ãˆãªã„ï¼‰</li>
					<li>åˆæœŸè¡¨ç¤ºãŒé…ããªã‚ŠãŒã¡</li>
				</ul>
				<p><strong>Next.jsãªã‚‰ï¼š</strong>ã“ã‚Œã‚‰ã‚’è§£æ±ºï¼ç‰¹ã«SSRï¼ˆã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ï¼‰ã§SEOã¨ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’ä¸¡ç«‹</p>
			</div>
		</div>

		<div class="p-4 rounded-lg bg-gray-100 dark:bg-gray-800 mb-6">
			<p class="font-semibold text-gray-800 dark:text-gray-200 mb-2">é‡è¦ãªç”¨èª</p>
			<div class="text-sm text-gray-700 dark:text-gray-300 space-y-2">
				<p><strong>SSRï¼ˆServer Side Renderingï¼‰</strong>ï¼šã‚µãƒ¼ãƒãƒ¼ã§HTMLã‚’ç”Ÿæˆã—ã¦ã‹ã‚‰é€ã‚‹ â†’ SEOã«å¼·ã„ã€åˆæœŸè¡¨ç¤ºãŒé€Ÿã„</p>
				<p><strong>SSGï¼ˆStatic Site Generationï¼‰</strong>ï¼šãƒ“ãƒ«ãƒ‰æ™‚ã«HTMLã‚’ç”Ÿæˆ â†’ æœ€é€Ÿã€ãƒ–ãƒ­ã‚°ã«æœ€é©</p>
				<p><strong>App Router</strong>ï¼šNext.js 13ä»¥é™ã®æ–°ã—ã„ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°æ–¹å¼ã€‚appãƒ•ã‚©ãƒ«ãƒ€ã‚’ä½¿ã†</p>
			</div>
		</div>
	</section>

	<!-- ã§ãã‚‹ã“ã¨ä¸€è¦§ -->
	<section class="mb-10">
		<h2 id="features" class="text-xl font-bold mb-4">Next.jsã§ã§ãã‚‹ã“ã¨</h2>
		<div class="grid grid-cols-1 md:grid-cols-2 gap-3">
			{#each features as feature}
				<FeatureCard {...feature} />
			{/each}
		</div>
	</section>

	<!-- ã‚³ãƒ¼ãƒ‰ä¾‹ -->
	<section class="mb-10">
		<h2 id="examples" class="text-xl font-bold mb-4">ã‚³ãƒ¼ãƒ‰ä¾‹</h2>

		<CodePreview
			title="ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ"
			description="create-next-appã§é–‹å§‹"
			language="bash"
			code={`# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ
npx create-next-app@latest my-app

# é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•
cd my-app
npm run dev`}
			previewHtml={`<div style="font-family:monospace;background:#1e1e1e;color:#d4d4d4;padding:12px;border-radius:6px;font-size:13px;"><div style="color:#6a9955;">âœ“ Ready in 2.1s</div><div style="color:#569cd6;">âœ Local: http://localhost:3000</div></div>`}
		/>

		<CodePreview
			title="ãƒšãƒ¼ã‚¸ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆApp Routerï¼‰"
			description="app/page.tsx ãŒãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸"
			language="typescript"
			code={`// app/page.tsx
export default function HomePage() {
  return (
    <main>
      <h1>Welcome to Next.js!</h1>
      <p>This is the home page.</p>
    </main>
  );
}`}
			previewHtml={`<div style="padding:16px;"><h1 style="font-size:24px;font-weight:bold;margin-bottom:8px;">Welcome to Next.js!</h1><p style="color:#6b7280;">This is the home page.</p></div>`}
		/>

		<CodePreview
			title="å‹•çš„ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°"
			description="[id]ã§ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’å—ã‘å–ã‚‹"
			language="typescript"
			code={`// app/blog/[slug]/page.tsx
interface Props {
  params: { slug: string }
}

export default function BlogPost({ params }: Props) {
  return (
    <article>
      <h1>è¨˜äº‹: {params.slug}</h1>
    </article>
  );
}

// /blog/hello-world â†’ params.slug = "hello-world"`}
			previewHtml={`<div style="padding:16px;background:#f9fafb;border-radius:8px;"><div style="font-size:12px;color:#6b7280;margin-bottom:4px;">URL: /blog/hello-world</div><h1 style="font-size:20px;font-weight:bold;">è¨˜äº‹: hello-world</h1></div>`}
		/>

		<CodePreview
			title="ãƒ‡ãƒ¼ã‚¿å–å¾—ï¼ˆServer Componentï¼‰"
			description="ã‚µãƒ¼ãƒãƒ¼ã§ç›´æ¥ãƒ‡ãƒ¼ã‚¿å–å¾—"
			language="typescript"
			code={`// app/posts/page.tsx
async function getPosts() {
  const res = await fetch('https://api.example.com/posts');
  return res.json();
}

export default async function PostsPage() {
  const posts = await getPosts();

  return (
    <ul>
      {posts.map((post) => (
        <li key={post.id}>{post.title}</li>
      ))}
    </ul>
  );
}`}
			previewHtml={`<div style="font-family:monospace;background:#1e1e1e;color:#d4d4d4;padding:12px;border-radius:6px;font-size:13px;"><div style="color:#6a9955;">// Server Componentãªã®ã§</div><div style="color:#6a9955;">// ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«APIã‚­ãƒ¼ãŒæ¼ã‚Œãªã„</div></div>`}
		/>

		<CodePreview
			title="API Routes"
			description="app/api/ã§APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆä½œæˆ"
			language="typescript"
			code={`// app/api/hello/route.ts
import { NextResponse } from 'next/server';

export async function GET() {
  return NextResponse.json({
    message: 'Hello from API!'
  });
}

export async function POST(request: Request) {
  const body = await request.json();
  return NextResponse.json({ received: body });
}`}
			previewHtml={`<div style="font-family:monospace;background:#1e1e1e;color:#d4d4d4;padding:12px;border-radius:6px;font-size:13px;"><div>GET /api/hello</div><div style="color:#ce9178;">&#123;"message": "Hello from API!"&#125;</div></div>`}
		/>

		<CodePreview
			title="Client Component"
			description="'use client'ã§ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ã«"
			language="typescript"
			code={`// components/Counter.tsx
'use client';

import { useState } from 'react';

export default function Counter() {
  const [count, setCount] = useState(0);

  return (
    <button onClick={() => setCount(count + 1)}>
      Count: {count}
    </button>
  );
}`}
			previewHtml={`<div style="padding:12px;"><button style="padding:8px 16px;background:#3b82f6;color:white;border:none;border-radius:4px;cursor:pointer;">Count: 0 (ã‚¯ãƒªãƒƒã‚¯ã§å¢—åŠ )</button></div>`}
		/>

		<CodePreview
			title="Layoutã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ"
			description="å…±é€šãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’å®šç¾©"
			language="typescript"
			code={`// app/layout.tsx
export default function RootLayout({
  children,
}: {
  children: React.ReactNode;
}) {
  return (
    <html lang="ja">
      <body>
        <header>ãƒ˜ãƒƒãƒ€ãƒ¼</header>
        <main>{children}</main>
        <footer>ãƒ•ãƒƒã‚¿ãƒ¼</footer>
      </body>
    </html>
  );
}`}
			previewHtml={`<div style="border:1px solid #e5e7eb;border-radius:8px;overflow:hidden;"><div style="background:#f3f4f6;padding:8px;text-align:center;border-bottom:1px solid #e5e7eb;">ãƒ˜ãƒƒãƒ€ãƒ¼</div><div style="padding:16px;text-align:center;min-height:60px;">ãƒšãƒ¼ã‚¸å†…å®¹</div><div style="background:#f3f4f6;padding:8px;text-align:center;border-top:1px solid #e5e7eb;">ãƒ•ãƒƒã‚¿ãƒ¼</div></div>`}
		/>
	</section>

	<!-- ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€  -->
	<section class="mb-10">
		<h2 id="structure" class="text-xl font-bold mb-4">App Routerã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ </h2>

		<div class="rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden bg-gray-900 p-4">
			<pre class="text-gray-100 text-sm"><code>{`my-app/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ layout.tsx      # ãƒ«ãƒ¼ãƒˆãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
â”‚   â”œâ”€â”€ page.tsx        # ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ (/)
â”‚   â”œâ”€â”€ about/
â”‚   â”‚   â””â”€â”€ page.tsx    # /about
â”‚   â”œâ”€â”€ blog/
â”‚   â”‚   â”œâ”€â”€ page.tsx    # /blog
â”‚   â”‚   â””â”€â”€ [slug]/
â”‚   â”‚       â””â”€â”€ page.tsx # /blog/:slug
â”‚   â””â”€â”€ api/
â”‚       â””â”€â”€ hello/
â”‚           â””â”€â”€ route.ts # API: /api/hello
â”œâ”€â”€ components/
â”œâ”€â”€ public/
â””â”€â”€ package.json`}</code></pre>
		</div>
	</section>

	<!-- ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ -->
	<div class="flex justify-between pt-6 border-t border-gray-200 dark:border-gray-700">
		<a href="/ts/generics" class="inline-flex items-center gap-2 px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors">
			<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
				<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
			</svg>
			å‰ã¸ï¼šã‚¸ã‚§ãƒãƒªã‚¯ã‚¹
		</a>
		<a href="/nextjs/routing" class="inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-primary-600 text-white hover:bg-primary-700 transition-colors">
			æ¬¡ã¸ï¼šãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°
			<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
				<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
			</svg>
		</a>
	</div>
</article>
