<script>
	import CodePreview from '$lib/components/CodePreview.svelte';
	import FeatureCard from '$lib/components/FeatureCard.svelte';

	const features = [
		{ icon: 'ğŸš€', title: 'é«˜é€Ÿãƒ‡ãƒ—ãƒ­ã‚¤', description: 'Git pushã§è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤', tag: 'CI/CD' },
		{ icon: 'ğŸŒ', title: 'ã‚°ãƒ­ãƒ¼ãƒãƒ«CDN', description: 'ä¸–ç•Œä¸­ã§é«˜é€Ÿé…ä¿¡', tag: 'ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹' },
		{ icon: 'ğŸ”„', title: 'ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼', description: 'PRã”ã¨ã«ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼URL', tag: 'é–‹ç™º' },
		{ icon: 'âš¡', title: 'ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹', description: 'ãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯ã‚¢ãƒ—ãƒªå¯¾å¿œ', tag: 'æ©Ÿèƒ½' }
	];
</script>

<svelte:head>
	<title>Cloudflare Pages | ã•ã¨ã¾ãŸãƒ©ãƒœ</title>
</svelte:head>

<article>
	<h1 class="text-3xl font-bold mb-2">Pages ãƒ‡ãƒ—ãƒ­ã‚¤</h1>
	<p class="text-lg text-gray-600 dark:text-gray-400 mb-8">
		SvelteKitã‚¢ãƒ—ãƒªã‚’Cloudflare Pagesã«ãƒ‡ãƒ—ãƒ­ã‚¤
	</p>

	<!-- Pagesã¨ã¯ -->
	<section class="mb-10">
		<h2 id="what-is" class="text-xl font-bold mb-4">Cloudflare Pagesã¨ã¯ï¼Ÿ</h2>

		<div class="p-6 rounded-xl bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800 mb-6">
			<p class="text-orange-800 dark:text-orange-200 mb-4">
				<strong>ä¸€è¨€ã§è¨€ã†ã¨ï¼š</strong>ã€ŒVercelã¿ãŸã„ãªã€ã§ã‚‚Cloudflareã‚¨ãƒƒã‚¸ã§å‹•ããƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ã€
			</p>
			<p class="text-sm text-orange-700 dark:text-orange-300">
				é™çš„ã‚µã‚¤ãƒˆã‹ã‚‰ãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯ã‚¢ãƒ—ãƒªã¾ã§ã€GitHubã¨é€£æºã—ã¦è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤ã€‚
				D1ã‚„R2ãªã©Cloudflareã‚µãƒ¼ãƒ“ã‚¹ã¨ã‚·ãƒ¼ãƒ ãƒ¬ã‚¹ã«é€£æºã§ãã¾ã™ã€‚
			</p>
		</div>
	</section>

	<!-- ç‰¹å¾´ -->
	<section class="mb-10">
		<h2 id="features" class="text-xl font-bold mb-4">Pagesã®ç‰¹å¾´</h2>
		<div class="grid grid-cols-1 md:grid-cols-2 gap-3">
			{#each features as feature}
				<FeatureCard {...feature} />
			{/each}
		</div>
	</section>

	<!-- æ–™é‡‘ -->
	<section class="mb-10">
		<h2 id="pricing" class="text-xl font-bold mb-4">æ–™é‡‘</h2>

		<div class="grid md:grid-cols-2 gap-4">
			<div class="p-4 rounded-lg bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700">
				<h3 class="font-bold text-lg mb-2">Free</h3>
				<ul class="text-sm text-gray-600 dark:text-gray-400 space-y-1">
					<li>ãƒ»ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ•°: ç„¡åˆ¶é™</li>
					<li>ãƒ»ãƒ“ãƒ«ãƒ‰: 500å›/æœˆ</li>
					<li>ãƒ»åŒæ™‚ãƒ“ãƒ«ãƒ‰: 1</li>
					<li>ãƒ»å¸¯åŸŸå¹…: ç„¡åˆ¶é™</li>
				</ul>
			</div>
			<div class="p-4 rounded-lg bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800">
				<h3 class="font-bold text-lg mb-2">Pro ($20/æœˆã€œ)</h3>
				<ul class="text-sm text-gray-600 dark:text-gray-400 space-y-1">
					<li>ãƒ»ãƒ“ãƒ«ãƒ‰: 5000å›/æœˆ</li>
					<li>ãƒ»åŒæ™‚ãƒ“ãƒ«ãƒ‰: 5</li>
					<li>ãƒ»ãƒ“ãƒ«ãƒ‰æ™‚é–“: 20åˆ†ã¾ã§</li>
					<li>ãƒ»Web Analytics</li>
				</ul>
			</div>
		</div>

		<p class="mt-3 text-sm text-gray-600 dark:text-gray-400">
			å€‹äººé–‹ç™ºãªã‚‰ç„¡æ–™ãƒ—ãƒ©ãƒ³ã§ååˆ†ã§ã™ã€‚
		</p>
	</section>

	<!-- ãƒ‡ãƒ—ãƒ­ã‚¤æ–¹æ³• -->
	<section class="mb-10">
		<h2 id="deploy" class="text-xl font-bold mb-4">ãƒ‡ãƒ—ãƒ­ã‚¤æ–¹æ³•</h2>

		<h3 class="text-lg font-semibold mb-3">æ–¹æ³•1: Wrangler CLIï¼ˆæ¨å¥¨ï¼‰</h3>

		<CodePreview
			title="CLIã§ãƒ‡ãƒ—ãƒ­ã‚¤"
			description="ãƒ­ãƒ¼ã‚«ãƒ«ã‹ã‚‰ãƒ‡ãƒ—ãƒ­ã‚¤"
			language="bash"
			code={`# ãƒ“ãƒ«ãƒ‰
npm run build

# ãƒ‡ãƒ—ãƒ­ã‚¤ï¼ˆåˆå›ã¯å¯¾è©±å½¢å¼ã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆï¼‰
wrangler pages deploy .svelte-kit/cloudflare

# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåã‚’æŒ‡å®šã—ã¦ãƒ‡ãƒ—ãƒ­ã‚¤
wrangler pages deploy .svelte-kit/cloudflare --project-name=my-app`}
		/>

		<h3 class="text-lg font-semibold mb-3 mt-6">æ–¹æ³•2: GitHubé€£æº</h3>

		<div class="space-y-3">
			<div class="flex items-start gap-3 p-3 rounded-lg bg-gray-50 dark:bg-gray-800">
				<span class="flex-shrink-0 w-8 h-8 flex items-center justify-center rounded-full bg-orange-500 text-white font-bold">1</span>
				<div>
					<p class="font-semibold">Cloudflare ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã¸</p>
					<p class="text-sm text-gray-600 dark:text-gray-400">
						Workers & Pages â†’ Create â†’ Pages â†’ Connect to Git
					</p>
				</div>
			</div>
			<div class="flex items-start gap-3 p-3 rounded-lg bg-gray-50 dark:bg-gray-800">
				<span class="flex-shrink-0 w-8 h-8 flex items-center justify-center rounded-full bg-orange-500 text-white font-bold">2</span>
				<div>
					<p class="font-semibold">ãƒªãƒã‚¸ãƒˆãƒªã‚’é¸æŠ</p>
					<p class="text-sm text-gray-600 dark:text-gray-400">
						GitHubã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’é€£æºã—ã¦ã€ãƒªãƒã‚¸ãƒˆãƒªã‚’é¸æŠ
					</p>
				</div>
			</div>
			<div class="flex items-start gap-3 p-3 rounded-lg bg-gray-50 dark:bg-gray-800">
				<span class="flex-shrink-0 w-8 h-8 flex items-center justify-center rounded-full bg-orange-500 text-white font-bold">3</span>
				<div>
					<p class="font-semibold">ãƒ“ãƒ«ãƒ‰è¨­å®š</p>
					<p class="text-sm text-gray-600 dark:text-gray-400">
						Framework: SvelteKit<br/>
						Build command: npm run build<br/>
						Build output: .svelte-kit/cloudflare
					</p>
				</div>
			</div>
			<div class="flex items-start gap-3 p-3 rounded-lg bg-gray-50 dark:bg-gray-800">
				<span class="flex-shrink-0 w-8 h-8 flex items-center justify-center rounded-full bg-green-500 text-white font-bold">4</span>
				<div>
					<p class="font-semibold">å®Œäº†ï¼</p>
					<p class="text-sm text-gray-600 dark:text-gray-400">
						mainã«pushã™ã‚‹ãŸã³ã«è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤
					</p>
				</div>
			</div>
		</div>
	</section>

	<!-- D1/R2ãƒã‚¤ãƒ³ãƒ‡ã‚£ãƒ³ã‚° -->
	<section class="mb-10">
		<h2 id="bindings" class="text-xl font-bold mb-4">D1/R2ã®ãƒã‚¤ãƒ³ãƒ‡ã‚£ãƒ³ã‚°è¨­å®š</h2>

		<p class="text-gray-700 dark:text-gray-300 mb-4">
			GitHubé€£æºã®å ´åˆã€ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã§ãƒã‚¤ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ã‚’è¨­å®šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚
		</p>

		<div class="space-y-3">
			<div class="flex items-start gap-3 p-3 rounded-lg bg-gray-50 dark:bg-gray-800">
				<span class="flex-shrink-0 w-8 h-8 flex items-center justify-center rounded-full bg-blue-500 text-white font-bold">1</span>
				<div>
					<p class="font-semibold">Settings â†’ Functions â†’ D1 database bindings</p>
					<p class="text-sm text-gray-600 dark:text-gray-400">
						Variable name: DBï¼ˆwrangler.jsonã®bindingã¨åŒã˜ï¼‰<br/>
						D1 database: ä½œæˆã—ãŸD1ã‚’é¸æŠ
					</p>
				</div>
			</div>
			<div class="flex items-start gap-3 p-3 rounded-lg bg-gray-50 dark:bg-gray-800">
				<span class="flex-shrink-0 w-8 h-8 flex items-center justify-center rounded-full bg-blue-500 text-white font-bold">2</span>
				<div>
					<p class="font-semibold">R2 bucket bindingsï¼ˆR2ã‚’ä½¿ã†å ´åˆï¼‰</p>
					<p class="text-sm text-gray-600 dark:text-gray-400">
						Variable name: BUCKET<br/>
						R2 bucket: ä½œæˆã—ãŸãƒã‚±ãƒƒãƒˆã‚’é¸æŠ
					</p>
				</div>
			</div>
		</div>

		<div class="mt-4 p-4 rounded-lg bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800">
			<p class="font-semibold text-amber-800 dark:text-amber-200 mb-2">Wrangler CLIãªã‚‰è‡ªå‹•</p>
			<p class="text-sm text-amber-700 dark:text-amber-300">
				<code>wrangler pages deploy</code> ã‚’ä½¿ã†å ´åˆã€wrangler.jsonã®è¨­å®šãŒè‡ªå‹•ã§åæ˜ ã•ã‚Œã‚‹ã®ã§
				ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã§ã®è¨­å®šã¯ä¸è¦ã§ã™ã€‚
			</p>
		</div>
	</section>

	<!-- ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ -->
	<section class="mb-10">
		<h2 id="preview" class="text-xl font-bold mb-4">ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ‡ãƒ—ãƒ­ã‚¤</h2>

		<div class="p-4 rounded-lg bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800">
			<p class="font-semibold text-green-800 dark:text-green-200 mb-2">ãƒ–ãƒ©ãƒ³ãƒã”ã¨ã«ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼URL</p>
			<p class="text-sm text-green-700 dark:text-green-300 mb-3">
				mainä»¥å¤–ã®ãƒ–ãƒ©ãƒ³ãƒã«pushã™ã‚‹ã¨ã€è‡ªå‹•ã§ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼URLãŒç™ºè¡Œã•ã‚Œã¾ã™ã€‚
				æœ¬ç•ªã«å½±éŸ¿ã‚’ä¸ãˆãšã«ãƒ†ã‚¹ãƒˆã§ãã¾ã™ã€‚
			</p>
			<div class="font-mono text-xs bg-white dark:bg-gray-800 p-2 rounded">
				<p>main â†’ https://my-app.pages.dev/</p>
				<p>feature/new-ui â†’ https://abc123.my-app.pages.dev/</p>
			</div>
		</div>
	</section>

	<!-- ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ -->
	<div class="flex justify-between pt-6 border-t border-gray-200 dark:border-gray-700">
		<a href="/cloudflare/r2" class="inline-flex items-center gap-2 px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors">
			<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
				<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
			</svg>
			å‰ã¸ï¼šR2 ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸
		</a>
		<a href="/dev/my-workflow" class="inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-primary-600 text-white hover:bg-primary-700 transition-colors">
			æ¬¡ã¸ï¼šé–‹ç™ºæ–¹æ³•
			<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
				<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
			</svg>
		</a>
	</div>
</article>
